<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
   
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


<title>Cakephp 2.x compressing static files, css and js files</title>

<link rel="stylesheet" href="http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/style.css" media="screen" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.2, user-scalable=yes" />

<!--[if IE 8]>
    <script src="http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/scripts/html5.js" type="text/javascript"></script>
    <script src="http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/scripts/selectivizr-min.js" type="text/javascript"></script>
<![endif]-->


<!-- This site is optimized with the Yoast WordPress SEO plugin v1.7.1 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Example of compressing css and js files in cakephp 2.x. You could use any compressor like yuicompressor or csspp"/>
<link rel="canonical" href="http://www.pabloleanomartinet.com/cakephp-2-x-compressing-js-css-using-csspp-yuicompressor/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Cakephp 2.x compressing static files, css and js files" />
<meta property="og:description" content="Example of compressing css and js files in cakephp 2.x. You could use any compressor like yuicompressor or csspp" />
<meta property="og:url" content="http://www.pabloleanomartinet.com/cakephp-2-x-compressing-js-css-using-csspp-yuicompressor/" />
<meta property="og:site_name" content="Pablo Leano Martinet" />
<meta property="article:tag" content="cakephp" />
<meta property="article:tag" content="compressor" />
<meta property="article:tag" content="static files" />
<meta property="article:section" content="Posts" />
<meta property="article:published_time" content="2014-01-24T12:35:27+00:00" />
<meta property="article:modified_time" content="2014-12-13T13:43:04+00:00" />
<meta property="og:updated_time" content="2014-12-13T13:43:04+00:00" />
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Pablo Leano Martinet &raquo; Feed" href="http://www.pabloleanomartinet.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Pablo Leano Martinet &raquo; Comments Feed" href="http://www.pabloleanomartinet.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Pablo Leano Martinet &raquo; Cakephp 2.x compressing static files JS and CSS using csspp or yuicompressor Comments Feed" href="http://www.pabloleanomartinet.com/cakephp-2-x-compressing-js-css-using-csspp-yuicompressor/feed/" />
<link rel='stylesheet' id='bootstrap.min-css'  href='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/css/bootstrap.min.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap.theme.min-css'  href='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/css/bootstrap.theme.min.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome.min-css'  href='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/css/font-awesome.min.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='prettyPhoto-css'  href='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/css/prettyPhoto.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='template-css'  href='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/css/template.css?ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='google-fonts-css'  href='//fonts.googleapis.com/css?family=Raleway%3A900%7CFjalla+One%7CRoboto+Slab%3A400%2C300%2C100%2C700&#038;ver=4.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='A2A_SHARE_SAVE-css'  href='http://www.pabloleanomartinet.com/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.9' type='text/css' media='all' />
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.pabloleanomartinet.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.pabloleanomartinet.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.0.1" />
<link rel='shortlink' href='http://www.pabloleanomartinet.com/?p=10' />

<script type="text/javascript"><!--
var a2a_config=a2a_config||{},wpa2a={done:false,html_done:false,script_ready:false,script_load:function(){var a=document.createElement('script'),s=document.getElementsByTagName('script')[0];a.type='text/javascript';a.async=true;a.src='http://static.addtoany.com/menu/page.js';s.parentNode.insertBefore(a,s);wpa2a.script_load=function(){};},script_onready:function(){if(a2a.type=='page'){wpa2a.script_ready=true;if(wpa2a.html_done)wpa2a.init();}},init:function(){for(var i=0,el,target,targets=wpa2a.targets,length=targets.length;i<length;i++){el=document.getElementById('wpa2a_'+(i+1));target=targets[i];a2a_config.linkname=target.title;a2a_config.linkurl=target.url;if(el){a2a.init('page',{target:el});el.id='';}wpa2a.done=true;}wpa2a.targets=[];}};a2a_config.tracking_callback=['ready',wpa2a.script_onready];
//--></script>
<style type="text/css"><br />
<b>Notice</b>:  Undefined variable: logostyle in <b>/var/www/pabloleanomartinet.com/prod/wp-content/themes/diarjo-lite/core/functions/style.php</b> on line <b>16</b><br />
#header, #footer, #sidebar .post-article, #back-to-top i, nav#mainmenu ul ul, #wp-calendar { background-color: #2D3032; } #sidebar h3.title, #sidebar a, #sidebar p, #sidebar li, #sidebar address,
#sidebar dd, #sidebar blockquote, #sidebar td, #sidebar th, #sidebar label, #sidebar .textwidget, #footer h3.title, #footer a, #footer p, #footer li, #footer address,
#footer dd, #footer blockquote, #footer td, #footer th, #footer label, #footer .textwidget, nav#mainmenu ul li a, #back-to-top i, #wp-calendar caption, #wp-calendar td a, #footer h4.title, #logo a, nav#widgetmenu li a { color: #ffffff; } nav#mainmenu ul ul li:last-of-type a, #searchform input[type=submit], .contact-form input[type=submit], #commentform input[type=submit], #sidebar li, #footer li, #footer .widgets, ul.widget-category, ul.widget-category li a, ul.contact-info li, .bottom_widget ul.contact-info li, .tagcloud a, .socials a, #back-to-top i, nav#mainmenu ul li a, #sidebar ul.children, #sidebar ul.sub-menu, #wp-calendar th, #wp-calendar td, nav#widgetmenu ul, nav#widgetmenu li a, nav#widgetmenu li:last-of-type a, nav#widgetmenu li:last-of-type a:hover, #sidebar li, #footer li, #sidebar ul.children, #sidebar ul.children, #footer ul.sub-menu, #sidebar ul.sub-menu { border-color: #444649; } ::-moz-selection { background-color: #48c9b0; } ::selection { background-color: #48c9b0; } .skills .views, .filter, #searchform input[type=submit], .contact-form input[type=submit], #commentform input[type=submit]{ background-color: #48c9b0; } .skills .views, .filter, #searchform input[type=submit], .contact-form input[type=submit], #commentform input[type=submit] { border-color: #48c9b0; } #subheader, nav#mainmenu ul li a:hover,nav#mainmenu li:hover > a, nav#mainmenu ul li.current-menu-item > a, nav#mainmenu ul li.current_page_item > a, nav#mainmenu ul li.current-menu-parent > a, nav#mainmenu ul li.current_page_ancestor > a, nav#mainmenu ul li.current-menu-ancestor > a, #back-to-top i.open, #back-to-top i:hover, .post-article .link a:hover, .post-article .quote:hover, .filter li:hover, .filter li.active, ul.widget-category li a:hover, #wp-calendar #today, #wp-calendar #today a, .tagcloud a:hover, .tabs li a:hover, .tabs li.ui-tabs-active a, .tabs li.ui-state-active a, .toggle_container h5.element:hover, .toggle_container h5.inactive, .toggle_container h5.inactive:hover, .socials a:hover, .wp-pagenavi a:hover, .wp-pagenavi span.current, .wip-pagination span, .wip-pagination span:hover, #searchform input[type=submit]:hover, .contact-form input[type=submit]:hover, #commentform input[type=submit]:hover, .skills .views.active, .skills .views:hover, .theme-default .nivo-directionNav a:hover, .flexslider:hover .flex-next:hover, .flexslider:hover .flex-prev:hover, nav#widgetmenu li a:hover, nav#widgetmenu li:hover > a , nav#widgetmenu li.current-menu-item > a, nav#widgetmenu li.current-menu-ancestor > a { background-color: #1abc9c; } a.more:hover, a:hover, #footer a:hover, #sidebar a:hover, .post-article .title a:hover, .post-info a:hover, .filterable-grid  h4.title a:hover, .filterable-grid  h4.title a:focus, #logo a:hover, #footer a:hover { color: #1abc9c; } nav#mainmenu ul li a:hover,nav#mainmenu li:hover > a,nav#mainmenu ul li.current-menu-item > a, nav#mainmenu ul li.current_page_item > a, nav#mainmenu ul li.current-menu-parent > a, nav#mainmenu ul li.current_page_ancestor > a, nav#mainmenu ul li.current-menu-ancestor > a, nav#mainmenu ul ul li:last-of-type a:hover, nav#mainmenu ul ul li:last-of-type:hover > a, nav#mainmenu ul ul li.current-menu-item > a, nav#mainmenu ul ul li.current_page_item > a, nav#mainmenu ul ul li.current-menu-parent > a, nav#mainmenu ul ul li.current_page_ancestor > a, nav#mainmenu ul ul li.current-menu-ancestor > a, #back-to-top i.open, #back-to-top i:hover, ul.widget-category li a:hover, .tagcloud a:hover, .toggle_container h5.element:hover, .toggle_container h5.inactive, .toggle_container h5.inactive:hover, .toggle_container h5.element:hover:last-of-type, .toggle_container h5.inactive:last-of-type, .toggle_container h5.inactive:hover:last-of-type, .socials a:hover, #searchform input[type=submit]:hover, .contact-form input[type=submit]:hover, #commentform input[type=submit]:hover, nav#widgetmenu li a:hover, nav#widgetmenu li:hover > a , nav#widgetmenu li.current-menu-item > a, nav#widgetmenu li.current-menu-ancestor > a { border-color: #1abc9c; } </style>
</head>

<body class="single single-post postid-10 single-format-standard custom-background custombody" >

<header id="header">

    <div class="container">
    
        <div class="row">
        
        	<div class="col-md-12">
            
            	<div id="logo">
                
                    <a href="http://www.pabloleanomartinet.com" title="Pablo Leano Martinet">
                            
                        Pablo Leano Martinet                                
                    </a>
                
                </div>
				
                <nav id="mainmenu" >
               
                	<ul id="menu-menu-1" class="menu"><li id="menu-item-70" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-70"><a href="http://www.pabloleanomartinet.com/">Home Page</a></li>
<li id="menu-item-72" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-72"><a href="http://www.pabloleanomartinet.com/category/posts/">Posts</a></li>
<li id="menu-item-73" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-73"><a href="http://www.pabloleanomartinet.com/category/project/">Projects</a></li>
<li id="menu-item-79" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-79"><a href="http://www.pabloleanomartinet.com/about-me/">About Me</a></li>
</ul>                
                </nav> 
				
                <div class="clear"></div>
            
            </div>
            
        </div>
        
    </div>
    
</header>
<div class="container">
	
    <div class="row">
       
        <div class="col-md-12 full">
        	
            <div class="row">
        
                <article class="post-10 post type-post status-publish format-standard hentry category-posts tag-cakephp tag-compressor tag-static-files post-container col-md-12" >
                    
                    			
            <div class="post-article post-title">	
                <h1 class="title icon-title"> 
                	Cakephp 2.x compressing static files JS and CSS using csspp or yuicompressor                	<span><i class="fa fa-pencil-square-o"></i></span>
                </h1>
			</div>
            
		    
<div class="post-article">

	
    	<div class="line"> <span> On January 24, 2014 by pablo </span> </div>

	<p>If I remember correctly, in the version 1.3 of Cake you could find a css.php file in the webroot folder. Using ccsspp, cake could compress the css files of your website.</p>
<p>However, I&#8217;ve just downloaded a copy of CakePHP v2.0.6Stable and to my surprise I&#8217;ve found that it doesn&#8217;t include the css.php file anymore. So I tried to use the old css.php found in the older versions and (obviously) it didn&#8217;t worked&#8230; anyway, the code of the css.php file wasn&#8217;t quite elegant, so I&#8217;ve decided to rewrite a new file.</p>
<p>Well, actually I could find the csspp Vendor mentioned in the core file (ln 211). I guess it was <a title="csspp" href="https://github.com/jeremyboles/csspp" target="_blank">this compressor found on github</a>&#8230; But i wanted to use a different compressor, like the <a title="YUI compressor" href="http://developer.yahoo.com/yui/compressor/" target="_blank">YUIcompressor</a>. So I kinda separated the compressor with the css.php file.</p>
<p>The git repository of this code is here: <a href="https://github.com/pleasedontbelong/cakephp2.x-static-compressor">https://github.com/pleasedontbelong/cakephp2.x-static-compressor</a></p>
<h2>Download and install a compressor</h2>
<p>&#8211; <a href="https://github.com/jeremyboles/csspp/blob/master/csspp.php" target="_blank">Download csspp.php</a> and put it into the vendors folder or <a href="http://developer.yahoo.com/yui/compressor/" target="_blank">Download yuicompressor</a> and put it in the <strong>vendors</strong> folder</p>
<h2>Configure CakePhp</h2>
<p>&#8211; Change your &#8220;core.php&#8221; (inside the Config folder) file and add this line:</p>
<pre class="brush: php;tab-size: 2;gutter: false;">Configure::write('Asset.filter.css', 'mini.php');</pre>
<p>(optionally, uncomment the Asset.filter.js and change it to mini.php)</p>
<p>&#8211; Create the &#8220;app/tmp/cache/css&#8221; and the &#8220;app/tmp/cache/js&#8221; folder</p>
<p>&#8211; Create the file mini.php in the webroot folder. This file will check if there&#8217;s already the file compressed in cache and call the Compressor class to compress the code:</p>
<div style="font-size: 12px; line-height: 1.3em;"><div class="wrap_githubgist" style="width:100%"><script src = "http://gist-it.sudarmuthu.com/github/pleasedontbelong/cakephp2.x-static-compressor/blob/master/mini.php?footer=minimal"></script></div></div>
<p>&#8211; Finally create the Compressor.php file in the vendors folder. This file will select the defined compressor (yuicompressor, csspp , or any other library that you want):</p>
<div style="font-size: 12px; line-height: 1.3em;"><div class="wrap_githubgist" style="width:100%"><script src = "http://gist-it.sudarmuthu.com/github/pleasedontbelong/cakephp2.x-static-compressor/blob/master/Compressor.php?footer=minimal"></script></div></div>
<p>and that&#8217;s it&#8230; I&#8217;ve tested it at the same time that I&#8217;m writing this post, and it&#8217;s working like a charm =)</p>
<p>If you have any problems using this code, feel free to write an issue on github, or if you want to improve it you could write an make a pull request. I&#8217;ve created this class rapidly so it&#8217;s not perfect</p>
<div class="addtoany_share_save_container addtoany_content_bottom"><div class="a2a_kit a2a_kit_size_32 addtoany_list a2a_target" id="wpa2a_1"><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.pabloleanomartinet.com%2Fcakephp-2-x-compressing-js-css-using-csspp-yuicompressor%2F&amp;linkname=Cakephp%202.x%20compressing%20static%20files%20JS%20and%20CSS%20using%20csspp%20or%20yuicompressor" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.pabloleanomartinet.com%2Fcakephp-2-x-compressing-js-css-using-csspp-yuicompressor%2F&amp;linkname=Cakephp%202.x%20compressing%20static%20files%20JS%20and%20CSS%20using%20csspp%20or%20yuicompressor" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus" href="http://www.addtoany.com/add_to/google_plus?linkurl=http%3A%2F%2Fwww.pabloleanomartinet.com%2Fcakephp-2-x-compressing-js-css-using-csspp-yuicompressor%2F&amp;linkname=Cakephp%202.x%20compressing%20static%20files%20JS%20and%20CSS%20using%20csspp%20or%20yuicompressor" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share_save"></a>
<script type="text/javascript"><!--
wpa2a.script_load();
//--></script>
</div></div><div class="clear"></div>        <div class="post-info">
            <div class="left"> <a href="http://www.pabloleanomartinet.com/category/posts/" rel="category tag">Posts</a> </div>
            <div class="right"> Tags: <a href="http://www.pabloleanomartinet.com/tag/cakephp/" rel="tag">cakephp</a>, <a href="http://www.pabloleanomartinet.com/tag/compressor/" rel="tag">compressor</a>, <a href="http://www.pabloleanomartinet.com/tag/static-files/" rel="tag">static files</a>  </div>
        </div>
            
        <div class="clear"></div>

    

</div>                        
                    <div style="clear:both"></div>
                    
                </article>
        
                
<div id="disqus_thread">
    </div>


			</div>
        
        </div>

		
        <div class="clear"></div>

           
    </div>
    
</div>

<div id="back-to-top"> <i class="fa fa-chevron-up"></i> </div>

<footer id="footer">
	
    <div class="container">

		        
			<section class="row widgets">
                    
				<div class="col-md-4 widget-box"><h4 class="title">Categories</h4>		<ul>
	<li class="cat-item cat-item-2"><a href="http://www.pabloleanomartinet.com/category/posts/" >Posts</a> (8)
</li>
	<li class="cat-item cat-item-15"><a href="http://www.pabloleanomartinet.com/category/project/" >Project</a> (2)
</li>
		</ul>
</div>                    
            </section>
                
        
        <div class="row" >
             
			<div class="col-md-12" >

                <div class="copyright">

                    <p>
                                                  Copyright Pablo Leano Martinet 2015 
                         
                        | Theme by <a href="http://www.themeinprogress.com/" target="_blank">Theme in Progress</a> |
                        <a href="http://wordpress.org/" title="A Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress</a>
                    
                    </p>

				</div>
                
                
                <div class="clear"></div>
                
			</div>
                
		</div>
        
	</div>
    
</footer>


<script type="text/javascript"><!--
wpa2a.targets=[
{title:'Cakephp 2.x compressing static files JS and CSS using csspp or yuicompressor',url:'http://www.pabloleanomartinet.com/cakephp-2-x-compressing-js-css-using-csspp-yuicompressor/'}];
wpa2a.html_done=true;if(wpa2a.script_ready&&!wpa2a.done)wpa2a.init();wpa2a.script_load();
//--></script>
<!-- Tracking code easily added by NK Google Analytics -->
<script type="text/javascript"> 
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ 
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), 
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) 
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); 
ga('create', 'UA-12714966-2', 'pabloleanomartinet.com'); 
ga('send', 'pageview'); 
</script> 
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-includes/js/comment-reply.min.js?ver=4.0.1'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-includes/js/jquery/ui/jquery.ui.core.min.js?ver=1.10.4'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-includes/js/jquery/ui/jquery.ui.widget.min.js?ver=1.10.4'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-includes/js/jquery/ui/jquery.ui.tabs.min.js?ver=1.10.4'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/js/jquery.easing.1.3.js?ver=4.0.1'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/js/jquery.prettyPhoto.js?ver=4.0.1'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/js/jquery.scrollTo.js?ver=4.0.1'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/js/jquery.tinynav.js?ver=4.0.1'></script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-content/themes/diarjo-lite/js/jquery.wip.js?ver=4.0.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.0.1","language":""},"disqusIdentifier":"10 http:\/\/www.pabloleanomartinet.com\/?p=10","disqusShortname":"pleasedontbelong","disqusTitle":"Cakephp 2.x compressing static files JS and CSS using csspp or yuicompressor","disqusUrl":"http:\/\/www.pabloleanomartinet.com\/cakephp-2-x-compressing-js-css-using-csspp-yuicompressor\/","options":{"manualSync":false},"postId":"10"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-content/plugins/disqus-comment-system/media/js/disqus.js?ver=4.0.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"pleasedontbelong"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.pabloleanomartinet.com/wp-content/plugins/disqus-comment-system/media/js/count.js?ver=4.0.1'></script>
  
 
</body>

</html>